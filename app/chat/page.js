"use client";import {useState} from "react";export default function Chat(){const[messages,setMessages]=useState([]);const[input,setInput]=useState("");const[image,setImage]=useState(null);const[loading,setLoading]=useState(false);const sendMessage=async()=>{if(!input&&!image)return;setLoading(true);const fd=new FormData();fd.append("mensaje",input||"");if(image)fd.append("file",image);const req=await fetch("/api/chat",{method:"POST",body:fd});const res=await req.json();setMessages([...messages,{user:true,text:input},{user:false,text:res.response}]);setInput("");setImage(null);setLoading(false);};return(<div className="p-6 max-w-3xl mx-auto"><h1 className="text-3xl font-bold mb-4">Chat with MODSCOM BOT</h1><div className="bg-gray-800 rounded-xl p-4 mb-4 h-[450px] overflow-y-auto">{messages.map((msg,i)=>(<div key={i} className={`p-3 m-2 rounded-xl w-fit ${msg.user?"bg-blue-600 ml-auto":"bg-gray-700"}`}>{msg.text}</div>))}{loading&&<p>Thinking...</p>}</div><input type="file" onChange={e=>setImage(e.target.files[0])} className="mb-3"/><textarea value={input} onChange={e=>setInput(e.target.value)} className="w-full p-3 bg-gray-700 rounded-xl" placeholder="Ask something..."></textarea><button onClick={sendMessage} className="w-full mt-3 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-bold">Send</button></div>);}